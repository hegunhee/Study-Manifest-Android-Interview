## Q) 42. Dp와 Sp의 차이점은 무엇인가요?

- 안드로이드 UI 설계에서 다양한 화면 크기와 해상도에 적응하기 위해 Dp(Density-independent Pixels)와 Sp(Scale-independent Pixels) 단위를 사용합니다.
- 두 단위 모두 기기 간 일관성을 보장하지만 목적이 다릅니다.

### Dp란 무엇인가?

- Dp는 패딩, 마진, 너비와 같은 UI 요소의 크기를 정의하는 단위입니다.
- 1 Dp는 160 DPI 화면에서 1픽셀에 해당하며, 기기 밀도에 따라 자동 조절됩니다.
- 예를 들어, Button 너비를 100dp로 지정하면 저밀도 및 고밀도 화면 모두에서 대략 동일한 크기로 표시되지만 이를 렌더링하는 데 필요한 픽셀 수는 다릅니다.

### Sp란 무엇인가?

- Sp는 텍스트 크기에 사용되는 단위로, 화면 밀도뿐 아니라 사용자의 글꼴 크기 설정도 반영합니다. 따라서 접근성과 가독성을 보장하는 데 적합합니다.
- 예를 들어, TextView를 16sp로 설정하면 화면 밀도에 맞게 적절하게 크기가 조절되고 사용자가 시스템 글꼴 크기를 늘린 경우에도 조정됩니다.

### Dp와 Sp의 주요 차이점

주요 차이점은 크기 조절 동작입니다.

1. 목적: Dp는 UI 크기에, Sp는 텍스트 크기에 사용
2. 사용자 정의 환경: Sp는 글꼴 크기 설정을 존중, Dp는 반영하지 않음
3. 밀도 보장성: 둘 다 화면 밀도를 고려하지만 Sp는 접근성까지 지원

### 💡 Pro Tips for Mastery: Sp 단위를 사용할 때 화면 깨짐을 어떻게 처리하나요?

- 사용자가 정의한 큰 글꼴 크기로 인한 과도한 크기 조절은 UI 컴포넌트가 겹치거나 화면을 벗어나는 레이아웃 깨짐 문제로 이어질 수 있습니다.
- 사용자 친화적인 경험을 유지하려면 이러한 시나리오를 적절하게 처리하는 것이 필수적입니다.

#### 화면 깨짐 방지 전략

- 사용자가 시스템 글꼴 크기를 크게 늘리면 Sp 단위로 인해 텍스트 요소가 의도한 경계를 넘어 커질 수 있습니다.
- 특히 버튼, 레이블 또는 컴팩트한 화면과 같이 제한된 공간에서 레이아웃을 깨뜨릴 수 있습니다. (텍스트가 레이아웃을 넘어가거나 겹치는 경우)

#### 1. 콘텐츠를 적절하게 감싸기 (Wrap Content Properly)

- TextView나 Button과 같은 텍스트 기반 컴포넌트의 크기가 wrap_content로 설정되었는지 확인합니다.
- 이렇게 하면 컨테이너가 텍스트 크기에 따라 동적으로 확장되어 텍스트 잘림이나 오버플로우를 피할 수 있습니다.

```xml
<TextView
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:textSize="16sp"
    android:text="샘플 텍스트" />
```

#### 2. TextView에 minLines 또는 maxLines 사용하기

minLines, maxLines, ellipsize 설정

```xml
<TextView
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:textSize="16sp"
    android:maxLines="2"
    android:ellipsize="end"
    android:text="이것은 제대로 처리되지 않으면 레이아웃을 깨뜨릴 수 있는 긴 샘플 텍스트입니다." />
```

#### 3. 중요한 UI 컴포넌트에 고정 크기 사용하기

- 일관된 크기가 필수적인 경우 버튼과 같은 중요한 컴포넌트에 Dp 사용을 고려합니다.
- 이렇게 하면 사용자 환경 설정에 의한 텍스트 크기 조절에 관계없이 컴포넌트 크기가 안정적으로 유지됩니다.

```xml
<Button
    android:layout_width="100dp"
    android:layout_height="50dp"
    android:textSize="14sp"
    android:text="버튼" />
```

#### 4. 극단적인 글꼴 크기로 테스트하기

- 항상 기기 설정에서 사용할 수 있는 가장 큰 시스템 글꼴 크기로 앱을 테스트합니다.

#### 5. 제약 조건을 사용한 동적 크기 조절 고려하기

- ConstraintLayout을 사용하여 컴포넌트 위치 지정 및 크기 조절에 유연성을 더합니다.
- 텍스트가 확장될 때도 다른 UI 요소와 겹치지 않도록 텍스트 요소에 대한 제약 조건을 정의합니다.

```xml
<androidx.constraintlayout.widget.ConstraintLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content">

    <TextView
        android:id="@+id/sampleText"
        android:layout_width="0dp"
        android:layout_height="wrap_content"
        android:textSize="16sp"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintTop_toTopOf="parent"
        android:text="동적 레이아웃 예제" />
</androidx.constraintlayout.widget.ConstraintLayout>
```

#### 6. Sp 대신 Dp 크기 사용하기

- 일부 회사는 사용자 조정 글꼴 크기로 인한 레이아웃 문제를 방지하기 위해 텍스트 크기에 Sp 대신 Dp를 사용하는 경우도 더러 있습니다.
- 그러나 Sp는 접근성을 지원하도록 따로 설계되어 사용자의 가독성 환경 설정에 따라 텍스트가 조정되도록 보장하기 때문에, Sp 대신 Dp를 사용하는 접근 방식은 사용자 경험을 저해할 수 있습니다.
