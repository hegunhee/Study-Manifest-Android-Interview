## Q) 34. View와 ViewGroup의 차이점은 무엇인가요?

View와 ViewGroup은 UI 컴포넌트를 구현하기 위한 기본적인 개념입니다.
둘 다 android.view 패키지의 일부이지만 UI 계층 구조에서 다른 목적을 가집니다.

### View란?

View는 화면에 표시되는 직사각형 형태의 UI 구현하는 최소 단위의 단일 컴포넌트입니다.
이는 Button, TextView, ImageView, EditText와 같은 모든 UI 컴포넌트의 기본 클래스가 됩니다.
각 View는 화면에 렌더링되면 터치 또는 키 이벤트와 같이 애플리케이션 사용자와의 상호 작용을 처리합니다.

```kotlin
val textView = TextView(context).apply {
    text = "Hello, World!"
    textSize = 16f // sp 단위 사용 권장
    setTextColor(Color.BLACK)
}
```

### 💡 Additional Tips

- View 시스템은 전체 UI 프레임워크의 중추 역할을 하는 안드로이드 개발의 핵심 기반 중 하나입니다.
- 렌더링, UI 컴포넌트 업데이트 및 사용자 상호 작용을 가능하게 하는 콜백 시스템 관리를 담당합니다.
- 기본 버튼부터 복잡한 레이아웃까지 모든 UI 요소는 View 클래스 위에 구축됩니다.
-

AOSP의 [View.java](https://cs.android.com/android/platform/superproject/main/+/main:frameworks/base/core/java/android/view/View.java)
내부 구현을 살펴보면 34,000줄 이상의 코드로 구현되어 있습니다.
이것이 의미하는 바는 View 인스턴스를 생성하고 관리하는 것이 의외로 상당한 오버헤드가 수반됨을 뜻합니다.
결과적으로 불필요한 View 생성은 애플리케이션 성능에 영향을 미쳐 메모리 사용량을 늘리고 전체 레이아웃의 렌더링 속도를 늦출 수 있습니다.

- 성능을 최적화하려면 가능한 한 불필요한 View 인스턴스를 피해야 합니다.
- 또한 여러번 중첩된 뷰는 측정, 레이아웃 및 렌더링 시간을 증가시킬 수 있으므로 레이아웃 트리의 계층 구조를 단순화하는 것이 중요합니다.
- UI 계층 구조를 얕고 효율적으로 유지하면 더 부드러운 성능, 더 나은 응답성 및 낮은 리소스 소비를 보장할 수 있습니다.

### ViewGroup이란?

- ViewGroup은 여러 View 또는 다른 ViewGroup 요소를 포함하는 일종의 컨테이너
-
    - LinearLayout, RelativeLayout, ConstraintLayout, FrameLayout과 같은 레이아웃의 기본이 되는 클래스가 ViewGroup에 해당합니다.
- ViewGroup은 자식 뷰의 레이아웃과 위치를 관리하며, 화면에서 자식 View들의 사이즈가 측정되고 그려지는 방식을 정의

```kotlin
val linearLayout = LinearLayout(context).apply {
    orientation = LinearLayout.VERTICAL
    addView(TextView(context).apply { text = "Child 1" })
    addView(Button(context).apply { text = "Child 2" })
}
```

### 💡 Additional Tips

- ViewGroup 클래스는 View를 확장하고 ViewParent 및 ViewManager 인터페이스를 모두 구현합니다.
    - ViewParent 인터페이스는 View 객체의 부모 역할을 담당하며, 레이아웃 측정, 터치 이벤트 처리 및 렌더링 순서를 관리합니다.
    - 반면에 ViewManager 인터페이스는 ViewGroup 계층 내에서 자식 뷰를 동적으로 추가하고 제거하는 메서드를 제공합니다.
- ViewGroup은 다른 View 객체를 위한 컨테이너 역할을 하므로 독립형 View보다 본질적으로 더 복잡하고 리소스 집약적(CPU, 메모리, GPU(그래픽 처리), 배터리 등 시스템 자원을 많이 소비한다는
  뜻)입니다.
- ViewGroup은 추가적인 레이아웃 계산을 수행하고 여러 자식 뷰를 관리해야 하므로, 불필요한 중첩을 줄이는 것이 성능을 최적화하고 원활한 UI 렌더링을 보장합니다.

### View와 ViewGroup의 주요 차이점

| 구분           | View                                       | ViewGroup                                                           |
|--------------|--------------------------------------------|---------------------------------------------------------------------|
| **목적**       | 콘텐츠를 표시하거나 사용자와 상호 작용하는 단일 UI 요소           | 여러 자식 뷰를 구성하고 관리하는 컨테이너                                             |
| **계층**       | UI 계층 구조의 리프 노드(leaf node)로 다른 뷰를 포함할 수 없음 | 여러 자식 뷰 또는 다른 ViewGroup을 포함할 수 있는 브랜치 노드(branch node)               |
| **레이아웃 동작**  | 레이아웃 매개변수에 따라 자체 크기와 위치를 가짐                | 정의된 레이아웃 규칙(예: LinearLayout, ConstraintLayout)에 따라 자식 뷰의 크기와 위치를 결정 |
| **상호작용 핸들링** | 터치 및 키 이벤트 처리 가능                           | `onInterceptTouchEvent` 등을 사용해 자식 이벤트를 가로채고 관리 가능                   |
| **성능**       | 단일 요소로 비교적 가벼움                             | 계층 구조 관리로 렌더링 복잡성 증가, 과도한 중첩 시 성능 저하 가능                             |
