## ❓ Q) 44. Drawable이란 무엇이며, UI 개발에서 어떻게 사용되나요?

---

### 📌 개요
- **Drawable**은 화면에 그릴 수 있는 모든 그래픽 리소스의 **추상화 클래스**로, 배경, 버튼, 아이콘, 커스텀 뷰 등에서 폭넓게 사용됩니다. 유형별로 용도에 맞춘 다양한 서브클래스를 제공합니다. 

---

### 🎨 주요 Drawable 유형 & 대표 코드

#### 1) **BitmapDrawable**(래스터 이미지)
- PNG/JPG/GIF 등의 **비트맵**을 그릴 때 사용. 크기 조절/타일링/필터링 지원. 주로 `ImageView` 소스나 배경으로 활용. 
- XML 예시(문서 원문):
```xml
<bitmap xmlns:android="http://schemas.android.com/apk/res/android"
    android:src="@drawable/sample_image"
    android:tileMode="repeat"/>
```

- Kotlin 사용 예:
```kotlin
val iv = findViewById<ImageView>(R.id.iv)
iv.setImageResource(R.drawable.sample_image)
```

#### 2) **VectorDrawable**(벡터 그래픽)
- XML path를 이용한 **해상도 독립** 그래픽. 아이콘/로고에 적합, 픽셀화 방지. 
- XML 예시(문서 원문):
```xml
<vector xmlns:android="http://schemas.android.com/apk/res/android"
    android:width="24dp"
    android:height="24dp"
    android:viewportWidth="24"
    android:viewportHeight="24">
    <path
        android:fillColor="#FF0000"
        android:pathData="M12,2L15,8H9L12,2Z"/>
</vector>
```

- Kotlin 사용 예:
```kotlin
val iv = findViewById<ImageView>(R.id.iv)
iv.setImageResource(R.drawable.ic_triangle) // 위 벡터를 ic_triangle로 저장 가정
```

#### 3) **NinePatchDrawable**(패딩 포함, 크기 조절 가능 이미지)
- `.9.png` 외곽 1px 가이드로 **늘어나는 영역/고정 영역**을 정의해, 채팅 말풍선/버튼 등 **늘어나는 UI**에 적합. 
- XML 예시(문서 원문):
```xml
<nine-patch xmlns:android="http://schemas.android.com/apk/res/android"
    android:src="@drawable/chat_bubble.9.png"/>
```


#### 4) **ShapeDrawable**(커스텀 도형)
- 이미지 없이 XML로 **사각형/타원 등**을 정의해 배경/버튼/커스텀 UI에 유용. 
- XML 예시(문서 원문):
```xml
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle">
    <solid android:color="#FF5733"/>
    <corners android:radius="8dp"/>
</shape>
```


#### 5) **LayerDrawable**(여러 Drawable 겹치기)
- 여러 Drawable을 **계층**으로 결합해 복잡한 배경/오버레이 효과 구현. 
- XML 예시(문서 원문):
```xml
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <shape android:shape="rectangle">
            <solid android:color="#000000"/>
        </shape>
    </item>
    <item
        android:drawable="@drawable/icon"
        android:top="10dp"
        android:left="10dp"/>
</layer-list>
```


---

### 🛠️ 뷰에 적용하는 일반 패턴

- **XML로 소스 지정(예: ImageView)**
```xml
<ImageView
    android:id="@+id/iv"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:src="@drawable/sample_image"/>
```

- **XML로 배경 지정(예: Button)**
```xml
<Button
    android:id="@+id/cta"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:background="@drawable/bg_button"/>
```

- **Kotlin에서 설정**
```kotlin
val btn = findViewById<Button>(R.id.cta)
btn.background = AppCompatResources.getDrawable(this, R.drawable.bg_button)
```

---

### 🧭 선택 가이드(요약)
- 요구사항(품질/확장성/복잡도)에 맞는 Drawable을 선택하면, **최적화된·매력적인 UI**를 구현할 수 있습니다. 

---

### 💬 실전 질문
**Q)** Drawable만 사용하여 **사용자 상호작용에 따라 모양과 색상이 변경되는 동적 배경**을 가진 버튼을 어떻게 만들 수 있나요? 

**A1)**
- 상태별로 다른 Drawable을 지정하는 **상태 셀렉터**를 만들고(예: `bg_button_states.xml`), 각 상태에서 **ShapeDrawable**로 색/모서리 등을 바꿉니다. (상태 셀렉터는 Drawable 계열로, Drawable만으로 해결 가능)
- 상태 셀렉터:
```xml
<!-- res/drawable/bg_button_states.xml -->
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item android:state_pressed="true">
        <shape android:shape="rectangle">
            <solid android:color="#FF7043"/>
            <corners android:radius="12dp"/>
        </shape>
    </item>
    <item android:state_focused="true">
        <shape android:shape="rectangle">
            <solid android:color="#42A5F5"/>
            <corners android:radius="12dp"/>
            <stroke android:width="2dp" android:color="#1E88E5"/>
        </shape>
    </item>
    <item>
        <shape android:shape="rectangle">
            <solid android:color="#26A69A"/>
            <corners android:radius="12dp"/>
        </shape>
    </item>
</selector>
```
- 적용:
```xml
<Button
    android:id="@+id/cta"
    android:layout_width="wrap_content"
    android:layout_height="48dp"
    android:background="@drawable/bg_button_states"
    android:text="확인"/>
```
- 필요 시, **LayerDrawable**로 그림자/하이라이트를 얹거나, **NinePatchDrawable**로 캡션 길이에 따른 자연스러운 확장을 보장할 수 있습니다. (각 유형은 위 섹션 참조)

---

**A2)**

단순 클릭에 대한 알림이나 상호작용만 필요하다면 ripple 사용 가능

## 1) 직사각형 카드형 버튼: 배경 + 얇은 하이라이트 + 리플
- **요점**: 모서리 12dp 둥근 배경, 위에 하이라이트 오버레이, **리플 색상은 테마의 `colorControlHighlight`** 사용  
- **mask**: 둥근 모서리로 **리플 범위**를 동일하게 제한

```xml
<!-- res/drawable/bg_card_ripple.xml -->
<ripple xmlns:android="http://schemas.android.com/apk/res/android"
    android:color="?attr/colorControlHighlight">

    <!-- 1) 내용물(content) : 여러 drawable layer를 겹침 -->
    <item>
        <layer-list>
            <!-- 바탕 레이어: 카드 배경 -->
            <item>
                <shape android:shape="rectangle">
                    <solid android:color="#263238"/>
                    <corners android:radius="12dp"/>
                </shape>
            </item>

            <!-- 상단 얇은 하이라이트(선택) -->
            <item android:top="0dp">
                <shape android:shape="rectangle">
                    <size android:height="1dp"/>
                    <solid android:color="#334455"/>
                    <corners android:topLeftRadius="12dp"
                             android:topRightRadius="12dp"/>
                </shape>
            </item>

            <!-- 아이콘/장식 레이어(선택) -->
            <!-- <item android:drawable="@drawable/ic_whatever" android:left="12dp" android:top="12dp"/> -->
        </layer-list>
    </item>

    <!-- 2) 마스크: 리플 번짐 영역/모서리를 제한(=배경과 동일한 라운드) -->
    <item android:id="@android:id/mask">
        <shape android:shape="rectangle">
            <solid android:color="#FFFFFFFF"/>
            <corners android:radius="12dp"/>
        </shape>
    </item>
</ripple>
```

### 🧾 문서 요약 문구(원문)
- “Drawable 클래스는 안드로이드에서 다양한 유형의 그래픽을 처리하는 유연한 방법을 제공합니다… 개발자는 최적화되고 시각적으로 매력적인 UI 컴포넌트를 만들 수 있습니다.” 

---
