## ❓ Q) 37. Canvas란 무엇이며 어떻게 활용하나요?

---

### 📌 개요
**Canvas**는 안드로이드에서 **2D 그래픽을 그리기 위한 핵심 클래스**로, 뷰나 비트맵과 같은 표면에 픽셀 단위로 직접 그릴 수 있도록 지원합니다.  
`Canvas`는 도형, 텍스트, 비트맵 이미지 등 다양한 그래픽 요소를 원하는 좌표에 정밀하게 그릴 수 있으며, **커스텀 뷰 구현, 게임 화면, 데이터 시각화** 등에 활용됩니다.

---

### 🛠️ 주요 기능
1. **기본 도형 그리기**
   - `drawRect()`, `drawCircle()`, `drawLine()`, `drawPath()` 등으로 직선, 원, 사각형, 경로를 직접 렌더링.
2. **텍스트 렌더링**
   - `drawText()`를 통해 지정 위치에 문자열을 그립니다.
   - `Paint` 객체로 색상, 크기, 정렬 등을 제어.
3. **이미지 렌더링**
   - `drawBitmap()`으로 비트맵 이미지를 지정 좌표나 크기로 출력.
4. **변환 기능**
   - `translate()`, `rotate()`, `scale()` 등을 사용하여 그리기 좌표계 변환.
5. **클리핑(Clipping)**
   - `clipRect()`, `clipPath()`로 그리기 영역 제한.

---

### 📄 코드 예시

#### 1) 기본 도형 그리기
```kotlin
class MyCustomView(context: Context) : View(context) {
    private val paint = Paint().apply {
        color = Color.RED
        style = Paint.Style.FILL
        isAntiAlias = true
    }

    override fun onDraw(canvas: Canvas) {
        super.onDraw(canvas)
        canvas.drawCircle(width / 2f, height / 2f, 100f, paint)
    }
}
```

#### 2) 비트맵에 그리기
```kotlin
val bitmap = Bitmap.createBitmap(500, 500, Bitmap.Config.ARGB_8888)
val canvas = Canvas(bitmap)
val paint = Paint().apply { color = Color.BLUE }
canvas.drawRect(50f, 50f, 200f, 200f, paint)
```

---

### 💡 활용 예시
- **커스텀 차트/그래프**: 통계 데이터 시각화.
- **게임 UI**: 실시간 이미지와 도형 렌더링.
- **이미지 편집**: 브러시, 스티커, 워터마크 추가.
- **로딩 애니메이션**: 커스텀 스피너, 진행 표시줄.

---

### ⚡ 성능 최적화 팁
- `onDraw()`에서 객체 생성 최소화 (`Paint`, `Path` 재사용).
- 필요한 경우에만 `invalidate()` 호출.
- 복잡한 그래픽은 **오프스크린 비트맵 캐싱** 활용.
- 빈번한 업데이트는 `SurfaceView` 또는 `TextureView` 고려.

---

### 💬 실전 질문

**Q)** AndroidX 라이브러리에서 지원하지 않는 복잡한 모양이나 UI 요소를 렌더링 하는 커스텀 뷰를 어떻게 만들 수 있을까요?  
예를 들어, 화면에 로딩 중 상태를 표현하는 커스텀 스피너를 직접 그린다면, 어떤 Canvas 메서드와 API를 활용할 수 있을까요?


**A)**
- **`Canvas` 메서드 활용**
  - `drawArc()`로 원형 진행 표시.
  - `drawPath()`로 복잡한 경로나 기하학적 모양 생성.
  - `rotate()`를 활용한 회전 애니메이션 구현.
- **API 조합**
  - `Paint`로 색상, 두께, 안티앨리어싱 제어.
  - `ValueAnimator` 또는 `ObjectAnimator`로 회전 각도 변경 후 `invalidate()` 호출.
- **예시 흐름**
  1. `onDraw()`에서 현재 진행 상태에 따라 도형을 그림.
  2. 애니메이터로 각도를 변화시키며 주기적으로 화면을 갱신.
  3. CPU 부하를 최소화하도록 애니메이션 프레임 속도 조절.

---
